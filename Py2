import discord
from discord.ext import commands, tasks
import datetime

# ‚úÖ ‚úÖ ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô: ‡πÉ‡∏™‡πà Token ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
TOKEN = "‡πÉ‡∏™‡πà Bot Token ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà"

intents = discord.Intents.default()
bot = commands.Bot(command_prefix="!", intents=intents)

# ‚úÖ ‚úÖ ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô: ‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡πÄ‡∏ä‡πà‡∏ô PC ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏™‡πà‡∏á ping)
machine_status = {}
machine_names = ["PC-001", "PC-002", "Notebook-Dad", "Server-Home"]  # ‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ agent

@bot.event
async def on_ready():
    print(f"‚úÖ Bot {bot.user} ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß")
    check_status.start()

@bot.command()
async def status(ctx):
    embed = discord.Embed(title="üì° ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå", color=0x00ff00)
    now = datetime.datetime.now()
    for name in machine_names:
        last_ping = machine_status.get(name)
        if last_ping and (now - last_ping).seconds < 120:
            embed.add_field(name=name, value="‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà", inline=False)
        else:
            embed.add_field(name=name, value="‚ùå ‡∏õ‡∏¥‡∏î / ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á", inline=False)
    await ctx.send(embed=embed)

@bot.command()
async def ping(ctx, name: str):
    machine_status[name] = datetime.datetime.now()
    await ctx.send(f"üì• Ping ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å `{name}`")

@tasks.loop(minutes=1)
async def check_status():
    pass

# ‚úÖ ‚úÖ ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Web Server ‡∏ó‡∏µ‡πà‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏±‡∏ö
from keep_alive import keep_alive
keep_alive()

bot.run(TOKEN)ÔøºEnter
